<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰øÑËØ≠ÂçïËØçËá™‰øÆÂÆ§</title>
    <!-- ‰ªÖ‰øùÁïô React ËøêË°åÊâÄÈúÄÁöÑÂõΩÂÜÖÈ´òÈÄüÊ∫ê -->
    <script src="https://cdn.staticfile.org/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/7.22.20/babel.min.js"></script>
    <script src="https://cdn.staticfile.org/lucide/0.263.1/umd/lucide.min.js"></script>

    <style>
        /* --- Ê†∏ÂøÉÊ†∑ÂºèË°® (ÂÜÖÁΩÆ‰∫éÊñá‰ª∂ÔºåÊñ≠ÁΩë‰πüËÉΩÊòæÁ§∫ÊºÇ‰∫ÆÁïåÈù¢) --- */
        :root {
            --bg-color: #F7F5F0;
            --text-main: #3A3F3A;
            --text-sub: #9CA3AF;
            --primary-green: #8A9675;
            --primary-clay: #BC8A7B;
            --soft-white: #ECEBE5;
            --white: #FFFFFF;
            --border-color: #D9D8D2;
        }

        body {
            font-family: "Times New Roman", Times, serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        /* Â∏ÉÂ±ÄÂÆπÂô® */
        .app-wrapper {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 90vh;
        }

        /* È°∂ÈÉ®ÂØºËà™ */
        .header {
            width: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            gap: 15px;
        }

        .brand { display: flex; align-items: center; gap: 12px; }
        
        .logo {
            background-color: var(--primary-green);
            color: white;
            padding: 10px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 0 5px var(--soft-white);
        }

        .title h1 { font-size: 1.3rem; font-weight: bold; margin: 0; }
        .title p { font-size: 0.75rem; color: var(--primary-green); font-weight: bold; text-transform: uppercase; letter-spacing: 2px; margin: 2px 0 0 0; }

        /* Ê®°ÂºèÂàáÊç¢ÊåâÈíÆ */
        .btn-group {
            background-color: var(--soft-white);
            padding: 5px;
            border-radius: 12px;
            display: flex; gap: 5px;
        }

        .btn {
            border: none; background: transparent; padding: 8px 16px; border-radius: 8px;
            font-size: 0.85rem; font-weight: bold; color: #888; cursor: pointer; transition: all 0.2s;
        }
        .btn.active { background-color: var(--white); color: var(--primary-green); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

        /* ËØæÁ®ãÂØºËà™ */
        .lesson-nav {
            display: flex; gap: 10px; overflow-x: auto; width: 100%; padding-bottom: 10px;
            justify-content: center; margin-bottom: 20px;
        }
        /* ÈöêËóèÊªöÂä®Êù° */
        .lesson-nav::-webkit-scrollbar { display: none; }

        .lesson-btn {
            min-width: 50px; height: 40px; border: 2px solid var(--border-color); background: var(--white);
            border-radius: 10px; font-weight: bold; color: var(--text-sub); cursor: pointer;
            display: flex; align-items: center; justify-content: center; font-size: 0.85rem;
        }
        .lesson-btn.active { background-color: var(--primary-green); color: var(--white); border-color: var(--primary-green); }

        /* Èó™Âç°ÂÆπÂô® */
        .card-container {
            width: 100%; max-width: 400px; aspect-ratio: 3/4; position: relative;
            perspective: 2000px; margin-bottom: 20px; cursor: pointer;
        }
        @media (min-width: 600px) { .card-container { aspect-ratio: 16/10; max-width: 600px; } }

        .card-inner {
            position: relative; width: 100%; height: 100%; text-align: center;
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-style: preserve-3d;
        }
        .card-inner.flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; -webkit-backface-visibility: hidden;
            border-radius: 30px; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); padding: 20px; box-sizing: border-box;
        }

        .card-front { background-color: var(--white); border: 1px solid var(--soft-white); z-index: 2; }
        .card-back {
            background-color: var(--primary-green); color: var(--white);
            transform: rotateY(180deg); z-index: 1; border: 8px solid rgba(255,255,255,0.2);
        }

        /* ÂçïËØçÊòæÁ§∫ */
        .char-container { display: inline-block; position: relative; padding: 0 2px; }
        .char { font-weight: bold; transition: color 0.3s; }
        .char.root { color: var(--primary-clay); }
        
        .stress-mark {
            position: absolute; left: 50%; transform: translateX(-50%);
            font-family: Arial, sans-serif; font-weight: 900; pointer-events: none; line-height: 1;
        }

        .text-lg .char { font-size: 3rem; }
        .text-lg .stress-mark { top: 0.05em; font-size: 0.5em; color: var(--primary-green); }
        .text-md .char { font-size: 1.5rem; }
        .text-md .stress-mark { top: 0.05em; font-size: 0.6em; color: var(--primary-green); }
        .text-white .char, .text-white .stress-mark { color: white !important; }

        @media (min-width: 600px) { .text-lg .char { font-size: 4rem; } }

        /* ËÉåÈù¢ÂÜÖÂÆπ */
        .back-content { width: 100%; height: 100%; overflow-y: auto; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .back-content::-webkit-scrollbar { display: none; }
        .cn-mean { font-family: system-ui, sans-serif; font-size: 2rem; font-weight: bold; margin-bottom: 20px; }
        
        .info-card {
            background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);
            border-radius: 15px; padding: 15px; width: 100%; max-width: 350px; margin-bottom: 10px;
        }
        .info-label { font-size: 0.65rem; text-transform: uppercase; opacity: 0.8; letter-spacing: 1px; font-weight: bold; margin-bottom: 5px; }

        /* ËøõÂ∫¶Êù° */
        .slider-container { width: 100%; max-width: 400px; margin-top: 20px; text-align: center; }
        .slider { -webkit-appearance: none; width: 100%; height: 6px; background: var(--border-color); border-radius: 3px; outline: none; }
        .slider::-webkit-slider-thumb { -webkit-appearance: none; width: 22px; height: 22px; border-radius: 50%; background: var(--primary-green); cursor: pointer; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }

        /* Ê∏∏ÊàèÈù¢Êùø */
        .game-panel {
            background: var(--white); border-radius: 30px; padding: 30px; width: 100%;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05); border: 1px solid var(--soft-white);
        }
        .game-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        @media (min-width: 600px) { .game-grid { grid-template-columns: 1fr 1fr 1fr; gap: 15px; } }

        .game-btn {
            background: var(--white); border: 2px solid var(--soft-white); border-radius: 15px;
            padding: 10px; height: 100px; display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; font-weight: bold; color: var(--text-main); cursor: pointer; transition: all 0.2s;
        }
        .game-btn.selected { background: var(--primary-green); color: var(--white); border-color: var(--primary-green); transform: translateY(-2px); }
        .game-btn.solved { opacity: 0.3; cursor: default; background: #f0f0f0; }

        .quiz-option {
            height: 70px; border-radius: 15px; border: 2px solid var(--soft-white); background: white;
            font-size: 1rem; font-weight: bold; cursor: pointer; color: var(--text-main);
        }
        .quiz-option.correct { background: var(--primary-green); color: white; border-color: var(--primary-green); }
        .quiz-option.wrong { opacity: 0.5; border-color: var(--primary-clay); color: var(--primary-clay); }
        
        .cn-font { font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        const Icon = ({ name, size = 20, color = 'currentColor' }) => {
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            return <i data-lucide={name} style={{ width: size, height: size, color: color, verticalAlign: 'middle', display:'inline-block' }}></i>;
        };

        // --- ÂÆåÊï¥Ê†°ÂØπËØçÂ∫ì (‰øÆÂ§çÊâÄÊúâÁº∫Â§±ÂÖ≥ËÅîËØç) ---
        const vocabulary = [
          // Á¨¨‰∏ÄËØæ
          { ru: '–¥–Ω–µ–≤–Ω–∏–∫', stressIdx: 5, root: '–¥–Ω–µ–≤', cn: 'Êó•ËÆ∞', lesson: 1, related: '–¥–µ–Ω—å (Â§©), –¥–Ω–µ–≤–Ω–æÃÅ–π (ÁôΩÂ§©ÁöÑ)' },
          { ru: '–∑–∞–≤—Ç—Ä–∞–∫', stressIdx: 1, root: '–∑–∞–≤—Ç—Ä', cn: 'Êó©È•≠', lesson: 1, related: '–∑–∞ÃÅ–≤—Ç—Ä–∞ (ÊòéÂ§©)' },
          { ru: '–∫—Ä—É–∂–æ–∫', stressIdx: 4, root: '–∫—Ä—É–∂', cn: 'Â∞èÁªÑ', lesson: 1, related: '–∫—Ä—É–≥ (ÂúÜ)' },
          { ru: '–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞', stressIdx: 5, root: '–º–∞—Ç–µ–º–∞—Ç', cn: 'Êï∞Â≠¶', lesson: 1, related: '–º–∞—Ç–µ–º–∞—Ç–∏ÃÅ—á–µ—Å–∫–∏–π (Êï∞Â≠¶ÁöÑ)' },
          { ru: '—Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ', stressIdx: 8, root: '—Ä–µ–≤–Ω', cn: 'ÊØîËµõ', lesson: 1, related: '—Ä–µ–≤–Ω–∏ÃÅ–≤—ã–π (Â´âÂ¶íÁöÑ/Á´û‰∫âÁöÑ)' },
          { ru: '—Å—Ç–æ–ª–æ–≤–∞—è', stressIdx: 4, root: '—Å—Ç–æ–ª', cn: 'È£üÂ†Ç', lesson: 1, related: '—Å—Ç–æ–ª (Ê°åÂ≠ê), –Ω–∞—Å—Ç–æÃÅ–ª—å–Ω—ã–π (Ê°å‰∏äÁöÑ)' },
          { ru: '—É–∂–∏–Ω', stressIdx: 0, root: '—É–∂', cn: 'ÊôöÈ•≠', lesson: 1, related: '—ÉÃÅ–∂–∏–Ω–∞—Ç—å (ÂêÉÊôöÈ•≠)' },
          { ru: '—Ö–æ–∫–∫–µ–π', stressIdx: 4, root: '—Ö–æ–∫–∫–µ', cn: 'ÂÜ∞ÁêÉ', lesson: 1, related: '—Ö–æ–∫–∫–µ–∏ÃÅ—Å—Ç (ÂÜ∞ÁêÉËøêÂä®Âëò)' },
          { ru: '—ç–∫—Å–∫—É—Ä—Å–∏—è', stressIdx: 4, root: '–∫—É—Ä—Å', cn: 'ÂèÇËßÇ', lesson: 1, related: '–∫—É—Ä—Å (Ëà™Âêë/ËØæÁ®ã)' },
          { ru: '–≤—á–µ—Ä–∞', stressIdx: 4, root: '–≤—á–µ—Ä–∞', cn: 'Êò®Â§©', lesson: 1, related: '–≤—á–µ—Ä–∞ÃÅ—à–Ω–∏–π (Êò®Â§©ÁöÑ)' },
          { ru: '—Ä–∞–Ω—å—à–µ', stressIdx: 1, root: '—Ä–∞–Ω', cn: 'ÂéüÂÖà', lesson: 1, related: '—Ä–∞ÃÅ–Ω–æ (Êó©)' },
          { ru: '—Å–µ–≥–æ–¥–Ω—è', stressIdx: 3, root: '—Å–µ–≥–æ–¥', cn: '‰ªäÂ§©', lesson: 1, related: '—Å–µ–π (Ê≠§) + –¥–Ω—è (Êó•)' },
          { ru: '—Ç–µ–ø–µ—Ä—å', stressIdx: 3, root: '—Ç–µ–ø–µ—Ä', cn: 'Áé∞Âú®', lesson: 1, related: '—Ç–µ–ø–µÃÅ—Ä–µ—à–Ω–∏–π (Áé∞Âú®ÁöÑ)' },
          { ru: '–≤–µ—Å—å', stressIdx: 1, root: '–≤–µ', cn: 'ÂÖ®ÈÉ®', lesson: 1, related: '–≤—Å–µ (Â§ßÂÆ∂), –≤—Å—ë (‰∏ÄÂàá)' },
          { ru: '–Ω–∏—á—Ç–æ', stressIdx: 4, root: '–Ω–∏—á', cn: '‰ªÄ‰πà‰πü(‰∏ç)', lesson: 1, related: '–Ω–∏—á–µ–≥–æÃÅ (Ê≤°‰ªÄ‰πà)' },
          { ru: '–≤—Ç–æ—Ä–æ–π', stressIdx: 4, root: '–≤—Ç–æ—Ä', cn: 'Á¨¨‰∫å', lesson: 1, related: '–≤—Ç–æÃÅ—Ä–Ω–∏–∫ (Âë®‰∫å)' },
          { ru: '–ø–µ—Ä–≤—ã–π', stressIdx: 1, root: '–ø–µ—Ä–≤', cn: 'Á¨¨‰∏Ä', lesson: 1, related: '–≤–ø–µÃÅ—Ä–≤—ã–µ (ÂàùÊ¨°)' },
          { ru: '–ø–æ—Å–ª–µ', stressIdx: 1, root: '–ø–æ—Å–ª', cn: 'Âú®...‰πãÂêé', lesson: 1, related: '–ø–æ—Å–ª–µÃÅ–¥–Ω–∏–π (ÊúÄÂêéÁöÑ)' },
          { ru: '–∏–∑–≤–∏–Ω–∏', stressIdx: 5, root: '–≤–∏–Ω', cn: 'ÂØπ‰∏çËµ∑', lesson: 1, related: '–≤–∏–Ω–∞ÃÅ (ËøáÈîô)' },
          { ru: '–±—ã—Ç—å', stressIdx: -1, root: '–±—ã', cn: 'ÊòØ/Âú®', lesson: 1, related: '–±—ÉÃÅ–¥—É (Â∞ÜÊòØ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '-', conj: '–±—ÉÃÅ–¥—É, –±—ÉÃÅ–¥–µ—à—å, –±—ÉÃÅ–¥—É—Ç' } },
          { ru: '–≤–∏–¥–µ—Ç—å', stressIdx: 1, root: '–≤–∏–¥', cn: 'ÁúãËßÅ', lesson: 1, related: '–≤–∏ÃÅ–¥–∏–º—ã–π (ÂèØËßÅÁöÑ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—É–≤–∏ÃÅ–¥–µ—Ç—å (-–∂—É, -–¥–∏—à—å)', conj: '–≤–∏ÃÅ–∂—É, –≤–∏ÃÅ–¥–∏—à—å, –≤–∏ÃÅ–¥—è—Ç' } },
          { ru: '–∑–∞–ø–æ–º–∏–Ω–∞—Ç—å', stressIdx: 7, root: '–º–∏–Ω', cn: 'ËÆ∞‰Ωè', lesson: 1, related: '–ø–∞ÃÅ–º—è—Ç—å (ËÆ∞ÂøÜ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '–∑–∞–ø–æÃÅ–º–Ω–∏—Ç—å (-–Ω—é, -–Ω–∏—à—å)', conj: '-–∞ÃÅ—é, -–∞ÃÅ–µ—à—å, -–∞ÃÅ—é—Ç' } },
          { ru: '–∏—Å–∫–∞—Ç—å', stressIdx: 3, root: '–∏—Å–∫', cn: 'ÂØªÊâæ', lesson: 1, related: '–ø–æÃÅ–∏—Å–∫ (ÊêúÁ¥¢)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '–Ω–∞–π—Ç–∏ÃÅ (–Ω–∞–π–¥—ÉÃÅ)', conj: '–∏—â—ÉÃÅ, –∏ÃÅ—â–µ—à—å, –∏ÃÅ—â—É—Ç' } },
          { ru: '–ø–µ—Ç—å', stressIdx: 1, root: '–ø–µ', cn: 'Âî±Ê≠å', lesson: 1, related: '–ø–µÃÅ—Å–Ω—è (Ê≠åÊõ≤)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—Å–ø–µ—Ç—å (—Å–ø–æ—éÃÅ)', conj: '–ø–æ—éÃÅ, –ø–æ—ë—à—å, –ø–æ—éÃÅ—Ç' } },
          { ru: '–ø–æ–º–Ω–∏—Ç—å', stressIdx: 1, root: '–ø–æ–º–Ω', cn: 'ËÆ∞Âæó', lesson: 1, related: '–ø–∞ÃÅ–º—è—Ç—å (ËÆ∞ÂøÜ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '-', conj: '-–Ω—é, -–Ω–∏—à—å, -–Ω—è—Ç' } },
          { ru: '—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å', stressIdx: 6, root: '—Ç–∞–Ω—Ü', cn: 'Ë∑≥Ëàû', lesson: 1, related: '—Ç–∞ÃÅ–Ω–µ—Ü (ËàûËπà)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—Å—Ç–∞–Ω—Ü–µ–≤–∞ÃÅ—Ç—å', conj: '—Ç–∞–Ω—Ü—ÉÃÅ—é, -—Ü—ÉÃÅ–µ—à—å' } },

          // Lesson 2 (Â∑≤‰øÆÂ§ç Related Â≠óÊÆµ)
          { ru: '–≥–æ–¥', stressIdx: -1, root: '–≥–æ–¥', cn: 'Âπ¥', lesson: 2, related: '–≥–æ–¥–æ–≤–æÃÅ–π (Âπ¥Â∫¶ÁöÑ)' },
          { ru: '–∂–∏–∑–Ω—å', stressIdx: 1, root: '–∂–∏', cn: 'ÁîüÊ¥ª', lesson: 2, related: '–∂–∏—Ç—å (ÁîüÊ¥ª/Â±Ö‰Ωè)' },
          { ru: '–º–µ—Å—è—Ü', stressIdx: 1, root: '–º–µ—Å', cn: 'Êúà', lesson: 2, related: '–µ–∂–µ–º–µÃÅ—Å—è—á–Ω–æ (ÊØèÊúà)' },
          { ru: '–º–∏–Ω—É—Ç–∞', stressIdx: 3, root: '–º–∏–Ω—É—Ç', cn: 'ÂàÜÈíü', lesson: 2, related: '–º–∏–Ω—ÉÃÅ—Ç–Ω—ã–π (ÂàÜÈíüÁöÑ)' },
          { ru: '–Ω–µ–¥–µ–ª—è', stressIdx: 3, root: '–Ω–µ–¥–µ–ª', cn: 'ÊòüÊúü', lesson: 2, related: '–ø–æ–Ω–µ–¥–µÃÅ–ª—å–Ω–∏–∫ (Âë®‰∏Ä)' },
          { ru: '–ø–æ–ª–æ–≤–∏–Ω–∞', stressIdx: 5, root: '–ø–æ–ª', cn: '‰∏ÄÂçä', lesson: 2, related: '–ø–æ–ª—á–∞—Å–∞ÃÅ (ÂçäÂ∞èÊó∂)' },
          { ru: '–ø–æ–ª—á–∞—Å–∞', stressIdx: 6, root: '–ø–æ–ª', cn: 'ÂçäÂ∞èÊó∂', lesson: 2, related: '–ø–æ–ª–æ–≤–∏ÃÅ–Ω–∞ (‰∏ÄÂçä)' },
          { ru: '—Ä–æ–º–∞–Ω', stressIdx: 3, root: '—Ä–æ–º–∞–Ω', cn: 'Â∞èËØ¥', lesson: 2, related: '—Ä–æ–º–∞–Ω–∏ÃÅ—Å—Ç (Â∞èËØ¥ÂÆ∂)' },
          { ru: '—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç', stressIdx: 10, root: '—É–Ω–∏–≤–µ—Ä', cn: 'Â§ßÂ≠¶', lesson: 2, related: '—É–Ω–∏–≤–µ—Ä—Å–∞ÃÅ–ª—å–Ω—ã–π (ÈÄöÁî®ÁöÑ)' },
          { ru: '—á–∞—Å', stressIdx: 1, root: '—á–∞—Å', cn: 'Â∞èÊó∂', lesson: 2, related: '—á–∞—Å—ãÃÅ (Ë°®)' },
          { ru: '–¥–ª–∏–Ω–Ω—ã–π', stressIdx: 2, root: '–¥–ª–∏–Ω', cn: 'ÈïøÁöÑ', lesson: 2, related: '–¥–ª–∏–Ω–∞ÃÅ (ÈïøÂ∫¶)' },
          { ru: '–¥–æ–ª–≥–∏–π', stressIdx: 1, root: '–¥–æ–ª–≥', cn: 'Èïø‰πÖÁöÑ', lesson: 2, related: '–¥–æÃÅ–ª–≥–æ (Âæà‰πÖ)' },
          { ru: '–Ω–æ—Ä–º–∞–ª—å–Ω—ã–π', stressIdx: 4, root: '–Ω–æ—Ä–º', cn: 'Ê≠£Â∏∏ÁöÑ', lesson: 2, related: '–Ω–æÃÅ—Ä–º–∞ (ËßÑËåÉ)' },
          { ru: '—Å—á–∞—Å—Ç–ª–∏–≤—ã–π', stressIdx: 6, root: '—Å—á–∞—Å—Ç', cn: 'Âπ∏Á¶èÁöÑ', lesson: 2, related: '—Å—á–∞ÃÅ—Å—Ç—å–µ (Âπ∏Á¶è)' },
          { ru: '—Ç—Ä—É–¥–Ω—ã–π', stressIdx: 2, root: '—Ç—Ä—É–¥', cn: 'Âõ∞ÈöæÁöÑ', lesson: 2, related: '—Ç—Ä—É–¥ (Âä≥Âä®)' },
          { ru: '–Ω–∞–∫–æ–Ω–µ—Ü', stressIdx: 5, root: '–∫–æ–Ω', cn: 'ÊúÄÁªà', lesson: 2, related: '–∫–æ–Ω–µÃÅ—Ü (ÁªìÊùü)' },
          { ru: '–ø–æ—á—Ç–∏', stressIdx: 4, root: '–ø–æ—á—Ç', cn: 'Âá†‰πé', lesson: 2, related: '–ø–æ—á—Ç–∏ÃÅ—Ç–µ–ª—å–Ω—ã–π (ÊÅ≠Êï¨ÁöÑ)' },
          { ru: '–≤—Å—ë', stressIdx: -1, root: '–≤—Å', cn: '‰∏ÄÂàá', lesson: 2, related: '–≤–µ—Å—å (ÂÖ®ÈÉ®)' },
          { ru: '–∑–∞–Ω–∏–º–∞—Ç—å—Å—è', stressIdx: 5, root: '–Ω–∏–º', cn: 'Â≠¶‰π†', lesson: 2, related: '–∑–∞–Ω—èÃÅ—Ç–∏–µ (ËØæ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '–∑–∞–Ω—èÃÅ—Ç—å—Å—è', conj: '-–∞ÃÅ—é—Å—å, -–∞ÃÅ–µ—à—å—Å—è' } },
          { ru: '–ø—Ä–æ–≤–µ—Ä—è—Ç—å', stressIdx: 7, root: '–≤–µ—Ä', cn: 'Ê£ÄÊü•', lesson: 2, related: '–ø—Ä–æ–≤–µÃÅ—Ä–∫–∞ (Ê†∏ÂÆû)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '–ø—Ä–æ–≤–µÃÅ—Ä–∏—Ç—å', conj: '-—èÃÅ—é, -—èÃÅ–µ—à—å' } },
          { ru: '—Ä–µ—à–∞—Ç—å', stressIdx: 4, root: '—Ä–µ—à', cn: 'Ëß£ÂÜ≥', lesson: 2, related: '—Ä–µ—à–µÃÅ–Ω–∏–µ (ÂÜ≥ÂÆö)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—Ä–µ—à–∏ÃÅ—Ç—å (-—à—ÉÃÅ)', conj: '-–∞ÃÅ—é, -–∞ÃÅ–µ—à—å' } },
          { ru: '—Å—Ç—Ä–æ–∏—Ç—å', stressIdx: 2, root: '—Å—Ç—Ä–æ', cn: 'Âª∫ËÆæ', lesson: 2, related: '—Å—Ç—Ä–æÃÅ–π–∫–∞ (Â∑•Âú∞)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '–ø–æ—Å—Ç—Ä–æÃÅ–∏—Ç—å', conj: '-–æÃÅ—é, -–æÃÅ–∏—à—å' } },
          { ru: '—É—Å—Ç–∞–≤–∞—Ç—å', stressIdx: 6, root: '—Å—Ç–∞', cn: 'Áñ≤Âä≥', lesson: 2, related: '—É—Å—Ç–∞ÃÅ–ª–æ—Å—Ç—å (Áñ≤Âä≥)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—É—Å—Ç–∞ÃÅ—Ç—å (-–∞ÃÅ–Ω—É)', conj: '—É—Å—Ç–∞—éÃÅ, -–∞—ë—à—å' } },
          { ru: '—Ö–æ—Ç–µ—Ç—å', stressIdx: 4, root: '—Ö–æ—Ç', cn: 'ÊÉ≥Ë¶Å', lesson: 2, related: '—Ö–æ—Ç–µÃÅ–Ω–∏–µ (ÊÑèÊÑø)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '–∑–∞—Ö–æ—Ç–µÃÅ—Ç—å', conj: '—Ö–æ—á—ÉÃÅ, —Ö–æÃÅ—á–µ—à—å' } },

          // Lesson 3 (Â∑≤‰øÆÂ§ç Related Â≠óÊÆµ)
          { ru: '–≤–µ—Å–Ω–∞', stressIdx: 4, root: '–≤–µ—Å–Ω', cn: 'Êò•Â§©', lesson: 3, related: '–≤–µ—Å–µÃÅ–Ω–Ω–∏–π (Êò•Â§©ÁöÑ)' },
          { ru: '–∑–∏–º–∞', stressIdx: 3, root: '–∑–∏–º', cn: 'ÂÜ¨Â§©', lesson: 3, related: '–∑–∏ÃÅ–º–Ω–∏–π (ÂÜ¨Â§©ÁöÑ)' },
          { ru: '–∫–∞–Ω–∏–∫—É–ª—ã', stressIdx: 3, root: '–∫–∞–Ω–∏–∫', cn: 'ÂÅáÊúü', lesson: 3, related: '–∫–∞–Ω–∏–∫—É–ª—èÃÅ—Ä–Ω—ã–π (ÂÅáÊúüÁöÑ)' },
          { ru: '–ª–µ—Ç–æ', stressIdx: 1, root: '–ª–µ—Ç', cn: 'Â§èÂ§©', lesson: 3, related: '–ª–µÃÅ—Ç–Ω–∏–π (Â§èÂ§©ÁöÑ)' },
          { ru: '–æ—Å–µ–Ω—å', stressIdx: 1, root: '–æ—Å–µ–Ω—å', cn: 'ÁßãÂ§©', lesson: 3, related: '–æ—Å–µÃÅ–Ω–Ω–∏–π (ÁßãÂ§©ÁöÑ)' },
          { ru: '—Ñ–∏–∑–∏–∫–∞', stressIdx: 1, root: '—Ñ–∏–∑', cn: 'Áâ©ÁêÜ', lesson: 3, related: '—Ñ–∏ÃÅ–∑–∏–∫ (Áâ©ÁêÜÂ≠¶ÂÆ∂)' },
          { ru: '–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', stressIdx: 5, root: '–Ω–µ–¥–µ–ª—å', cn: 'Âë®‰∏Ä', lesson: 3, related: '–Ω–µ–¥–µÃÅ–ª—è (ÊòüÊúü)' },
          { ru: '–≤—Ç–æ—Ä–Ω–∏–∫', stressIdx: 2, root: '–≤—Ç–æ—Ä', cn: 'Âë®‰∫å', lesson: 3, related: '–≤—Ç–æ—Ä–æÃÅ–π (Á¨¨‰∫å)' },
          { ru: '—Å—Ä–µ–¥–∞', stressIdx: 4, root: '—Å—Ä–µ–¥', cn: 'Âë®‰∏â', lesson: 3, related: '—Å—Ä–µÃÅ–¥–Ω–∏–π (‰∏≠Èó¥ÁöÑ)' },
          { ru: '—á–µ—Ç–≤–µ—Ä–≥', stressIdx: 6, root: '—á–µ—Ç–≤–µ—Ä', cn: 'Âë®Âõõ', lesson: 3, related: '—á–µ—Ç–≤—ë—Ä—Ç—ã–π (Á¨¨Âõõ)' },
          { ru: '–ø—è—Ç–Ω–∏—Ü–∞', stressIdx: 2, root: '–ø—è—Ç', cn: 'Âë®‰∫î', lesson: 3, related: '–ø—èÃÅ—Ç—ã–π (Á¨¨‰∫î)' },
          { ru: '—Å—É–±–±–æ—Ç–∞', stressIdx: 4, root: '—Å—É–±–±–æ—Ç', cn: 'Âë®ÂÖ≠', lesson: 3, related: '—Å—É–±–±–æÃÅ—Ç–Ω–∏–π (Âë®ÂÖ≠ÁöÑ)' },
          { ru: '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', stressIdx: 8, root: '–≤–æ—Å–∫—Ä–µ—Å', cn: 'Âë®Êó•', lesson: 3, related: '–≤–æ—Å–∫—Ä–µ—Å–∞ÃÅ—Ç—å (Â§çÊ¥ª)' },
          { ru: '–≤–µ—Å–Ω–æ–π', stressIdx: 4, root: '–≤–µ—Å–Ω', cn: '(Âú®)Êò•Â§©', lesson: 3, related: '–≤–µ—Å–Ω–∞ÃÅ (Êò•Â§©)' },
          { ru: '–∑–∏–º–æ–π', stressIdx: 3, root: '–∑–∏–º', cn: '(Âú®)ÂÜ¨Â§©', lesson: 3, related: '–∑–∏–º–∞ÃÅ (ÂÜ¨Â§©)' },
          { ru: '–ª–µ—Ç–æ–º', stressIdx: 1, root: '–ª–µ—Ç', cn: '(Âú®)Â§èÂ§©', lesson: 3, related: '–ª–µÃÅ—Ç–æ (Â§èÂ§©)' },
          { ru: '–æ—Å–µ–Ω—å—é', stressIdx: 1, root: '–æ—Å–µ–Ω—å', cn: '(Âú®)ÁßãÂ§©', lesson: 3, related: '–æÃÅ—Å–µ–Ω—å (ÁßãÂ§©)' },
          { ru: '–∑–∞–≤—Ç—Ä–∞', stressIdx: 1, root: '–∑–∞–≤—Ç—Ä–∞', cn: 'ÊòéÂ§©', lesson: 3, related: '–∑–∞ÃÅ–≤—Ç—Ä–∞–∫ (Êó©È•≠)' },
          { ru: '–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞', stressIdx: 6, root: '–∑–∞–≤—Ç—Ä–∞', cn: 'ÂêéÂ§©', lesson: 3, related: '–∑–∞ÃÅ–≤—Ç—Ä–∞ (ÊòéÂ§©)' },
          { ru: '–Ω–∞–∏–∑—É—Å—Ç—å', stressIdx: 5, root: '—É—Å—Ç', cn: 'ËÉåÁÜü', lesson: 3, related: '—É—Å—Ç–∞ÃÅ (Âè£/Âò¥)' },
          { ru: '—Å–∫–æ—Ä–æ', stressIdx: 2, root: '—Å–∫–æ—Ä', cn: 'ÂæàÂø´', lesson: 3, related: '—Å–∫–æÃÅ—Ä–æ—Å—Ç—å (ÈÄüÂ∫¶)' },
          { ru: '—á–µ—Ä–µ–∑', stressIdx: 1, root: '—á–µ—Ä', cn: 'ÁªèËøá', lesson: 3, related: '—á–µ—Ä–µ–∑–º–µÃÅ—Ä–Ω—ã–π (ËøáÂ∫¶ÁöÑ)' },
          { ru: '–¥–æ –≤—Å—Ç—Ä–µ—á–∏', stressIdx: 7, root: '–≤—Å—Ç—Ä–µ—á', cn: 'ÂÜçËßÅ', lesson: 3, related: '–≤—Å—Ç—Ä–µÃÅ—á–∞ (ËßÅÈù¢)' },
          { ru: '—Å–ª—ã—à–∞—Ç—å', stressIdx: 2, root: '—Å–ª—ã—Ö', cn: 'Âê¨ËßÅ', lesson: 3, related: '—Å–ª—É—Ö (Âê¨Âäõ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—É—Å–ª—ãÃÅ—à–∞—Ç—å', conj: '—Å–ª—ãÃÅ—à—É, —Å–ª—ãÃÅ—à–∏—à—å' } },
          { ru: '—Å–æ–±–∏—Ä–∞—Ç—å', stressIdx: 5, root: '–±–∏—Ä', cn: 'Êî∂ÈõÜ', lesson: 3, related: '—Å–æ–±—Ä–∞ÃÅ–Ω–∏–µ (‰ºöËÆÆ)', grammar: { type: 'Êú™ÂÆåÊàê‰Ωì', perfective: '—Å–æ–±—Ä–∞ÃÅ—Ç—å', conj: '-–∞ÃÅ—é, -–∞ÃÅ–µ—à—å' } },
        ];

        // --- ÁªÑ‰ª∂ ---
        
        // ÂçïËØçÊ∏≤Êüì
        const WordDisplay = ({ word, root, stressIdx, size = 'lg', isWhite = false }) => {
            if (!word) return null;
            return (
                <div className={`word-display text-${size} ${isWhite ? 'text-white' : ''}`}>
                    {word.split('').map((char, idx) => {
                        const isRoot = word.indexOf(root) !== -1 && idx >= word.indexOf(root) && idx < word.indexOf(root) + root.length;
                        const hasStress = idx === stressIdx;
                        let classes = 'char';
                        if (!isWhite && isRoot) classes += ' root';
                        return (
                            <span key={idx} className="char-container">
                                <span className={classes}>{char}</span>
                                {hasStress && <span className="stress-mark">ÃÅ</span>}
                            </span>
                        );
                    })}
                </div>
            );
        };

        // Âèò‰ΩçÊ∏≤Êüì
        const ConjDisplay = ({ text, isWhite = false }) => {
            if (!text) return null;
            const parts = [];
            for (let i = 0; i < text.length; i++) {
                const char = text[i];
                if (char === ' ') { parts.push(<span key={i} style={{width:'5px'}}></span>); continue; }
                const isStress = text[i+1] === '\u0301' || text[i+1] === 'ÃÅ'; 
                if (isStress) {
                    parts.push(
                        <span key={i} style={{position:'relative', display:'inline-block'}}>
                            {char}
                            <span style={{position:'absolute', top:'0.05em', left:'50%', transform:'translateX(-50%)', fontSize:'0.6em', color: isWhite?'white':'#8A9675', fontWeight:900}}>ÃÅ</span>
                        </span>
                    );
                    i++; 
                } else { parts.push(<span key={i}>{char}</span>); }
            }
            return <div style={{display:'flex', flexWrap:'wrap', justifyContent:'center', fontStyle:'italic'}}>{parts}</div>;
        };

        const App = () => {
            const [activeLesson, setActiveLesson] = useState(1);
            const [mode, setMode] = useState('flashcard');
            const [currentIndex, setCurrentIndex] = useState(0);
            const [isFlipped, setIsFlipped] = useState(false);
            
            // Match state
            const [matchItems, setMatchItems] = useState([]);
            const [selected, setSelected] = useState([]);
            const [solved, setSolved] = useState([]);
            
            // Quiz state
            const [quizQueue, setQuizQueue] = useState([]);
            const [quizIndex, setQuizIndex] = useState(0);
            const [quizQuestion, setQuizQuestion] = useState(null);
            const [quizOptions, setQuizOptions] = useState([]);
            const [quizAnswered, setQuizAnswered] = useState(false);
            const [quizCorrect, setQuizCorrect] = useState(false);
            const [quizScore, setQuizScore] = useState(0);
            const [quizStats, setQuizStats] = useState({ correct: 0, total: 0 });
            const [quizFinished, setQuizFinished] = useState(false);

            const currentVocab = useMemo(() => {
                const list = activeLesson === 0 ? vocabulary : vocabulary.filter(v => v.lesson === activeLesson);
                return list.length > 0 ? list : [vocabulary[0]];
            }, [activeLesson]);

            // Reset
            useEffect(() => {
                setCurrentIndex(0); setIsFlipped(false);
                setQuizFinished(false); setQuizQueue([]); setQuizScore(0);
            }, [activeLesson]);

            // Logic Init
            const initMatch = () => {
                const subset = [...currentVocab].sort(() => 0.5 - Math.random()).slice(0, 6);
                const items = [
                    ...subset.map(v => ({ ...v, type: 'ru', id: v.ru })),
                    ...subset.map(v => ({ ...v, type: 'cn', id: v.ru }))
                ].sort(() => 0.5 - Math.random());
                setMatchItems(items); setSelected([]); setSolved([]);
            };

            const startQuiz = useCallback(() => {
                const queue = [...currentVocab].sort(() => 0.5 - Math.random());
                setQuizQueue(queue); setQuizIndex(0); setQuizScore(0);
                setQuizStats({ correct: 0, total: 0 }); setQuizFinished(false);
                generateQuestion(queue[0]);
            }, [currentVocab]);

            const generateQuestion = (target) => {
                let distractors = vocabulary.filter(w => w.ru !== target.ru).sort(() => 0.5 - Math.random()).slice(0, 3);
                const dir = Math.random() > 0.5 ? 'ru-cn' : 'cn-ru';
                const opts = [target, ...distractors].sort(() => 0.5 - Math.random());
                setQuizQuestion({ ...target, dir }); setQuizOptions(opts); setQuizAnswered(false);
            };

            const nextQuiz = () => {
                const next = quizIndex + 1;
                if (next >= quizQueue.length) setQuizFinished(true);
                else { setQuizIndex(next); generateQuestion(quizQueue[next]); }
            };

            useEffect(() => {
                if (mode === 'match') initMatch();
                if (mode === 'quiz' && quizQueue.length === 0 && !quizFinished) startQuiz();
            }, [mode, activeLesson, startQuiz]);

            const handleMatch = (item) => {
                if (solved.includes(item.id) || selected.includes(item)) return;
                const newSel = [...selected, item]; setSelected(newSel);
                if (newSel.length === 2) {
                    if (newSel[0].id === newSel[1].id && newSel[0].type !== newSel[1].type) setSolved([...solved, newSel[0].id]);
                    setTimeout(() => setSelected([]), 400);
                }
            };

            const handleQuiz = (opt) => {
                if (quizAnswered) return;
                setQuizAnswered(true);
                const isCorrect = opt.ru === quizQuestion.ru;
                setQuizStats(p => ({ correct: p.correct + (isCorrect ? 1 : 0), total: p.total + 1 }));
                if (isCorrect) {
                    setQuizCorrect(true); setQuizScore(s => s + 10);
                    setTimeout(nextQuiz, 1000);
                } else setQuizCorrect(false);
            };

            const accuracy = quizStats.total > 0 ? Math.round((quizStats.correct / quizStats.total) * 100) : 0;

            return (
                <div className="app-wrapper">
                    <header className="header">
                        <div className="brand">
                            <div className="logo"><Icon name="book-open" size={20} /></div>
                            <div className="title"><h1>‰øÑËØ≠ÂçïËØçËá™‰øÆÂÆ§</h1><p>Morandi Style</p></div>
                        </div>
                        <div className="btn-group">
                            {['flashcard', 'match', 'quiz'].map(m => (
                                <button key={m} onClick={() => setMode(m)} className={`btn ${mode === m ? 'active' : ''}`}>
                                    {m === 'flashcard' ? 'Èó™Âç°' : m === 'match' ? 'ËøûËøûÁúã' : 'ÊµãËØï'}
                                </button>
                            ))}
                        </div>
                    </header>

                    <div className="lesson-nav">
                        {[1, 2, 3, 0].map(n => (
                            <button key={n} onClick={() => setActiveLesson(n)} className={`lesson-btn ${activeLesson === n ? 'active' : ''}`}>
                                {n === 0 ? 'ÂÖ®ÈÉ®' : `L${n}`}
                            </button>
                        ))}
                    </div>

                    {mode === 'flashcard' && (
                        <div style={{width:'100%', display:'flex', flexDirection:'column', alignItems:'center'}}>
                            <div className="card-container" onClick={() => setIsFlipped(!isFlipped)}>
                                <div className={`card-inner ${isFlipped ? 'flipped' : ''}`}>
                                    <div className="card-face card-front">
                                        <div style={{position:'absolute', top:'20px', left:'20px', color:'#8A9675', fontWeight:'bold', fontSize:'0.8rem', display:'flex', gap:'5px', alignItems:'center'}}>
                                            <Icon name="layers" size={14} /> Lesson {currentVocab[currentIndex]?.lesson}
                                        </div>
                                        <WordDisplay word={currentVocab[currentIndex]?.ru} root={currentVocab[currentIndex]?.root} stressIdx={currentVocab[currentIndex]?.stressIdx} size="lg" />
                                        {currentVocab[currentIndex]?.grammar && (
                                            <div style={{marginTop:'20px', fontSize:'1.2rem', color:'#8A9675'}}>
                                                <ConjDisplay text={currentVocab[currentIndex].grammar.conj} />
                                            </div>
                                        )}
                                        <div style={{position:'absolute', bottom:'20px', color:'#D9D8D2', fontSize:'0.7rem', fontWeight:'bold', letterSpacing:'2px'}}>CLICK TO FLIP</div>
                                    </div>
                                    <div className="card-back">
                                        <div className="back-content">
                                            <div className="cn-mean cn-font">{currentVocab[currentIndex]?.cn}</div>
                                            {currentVocab[currentIndex]?.grammar && (
                                                <div className="info-card">
                                                    <div className="info-label">GRAMMAR</div>
                                                    <div style={{fontSize:'0.9rem'}}>
                                                        <div style={{fontWeight:'bold'}}>{currentVocab[currentIndex].grammar.type}</div>
                                                        <div>ÂÆåÊàê‰Ωì: {currentVocab[currentIndex].grammar.perfective}</div>
                                                        <div style={{marginTop:'5px', fontSize:'0.85em', opacity:0.9}}>
                                                            <ConjDisplay text={currentVocab[currentIndex].grammar.conj} isWhite={true} />
                                                        </div>
                                                    </div>
                                                </div>
                                            )}
                                            <div className="info-card">
                                                <div className="info-label">ETYMOLOGY</div>
                                                <div style={{fontSize:'0.9rem'}}>
                                                    <div>ËØçÊ†π: <strong>"{currentVocab[currentIndex]?.root}"</strong></div>
                                                    <div className="cn-font" style={{fontSize:'0.85rem', marginTop:'3px'}}>ÂÖ≥ËÅî: {currentVocab[currentIndex]?.related}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="slider-container">
                                <input type="range" min="0" max={currentVocab.length - 1} value={currentIndex} onChange={e => {setCurrentIndex(parseInt(e.target.value)); setIsFlipped(false);}} className="slider" />
                                <div style={{marginTop:'10px', fontWeight:'bold', color:'#3A3F3A'}}>{currentIndex + 1} / {currentVocab.length}</div>
                            </div>
                        </div>
                    )}

                    {mode === 'match' && (
                        <div className="game-panel">
                            <div style={{display:'flex', justifyContent:'space-between', marginBottom:'20px', alignItems:'flex-end'}}>
                                <div><span className="helper-text">MATCHING</span><div style={{fontSize:'1.5rem', fontWeight:'bold'}}>{solved.length} / 6</div></div>
                                <button onClick={initMatch} style={{border:'none', background:'transparent', color:'#8A9675', cursor:'pointer'}}><Icon name="refresh-cw" size={24} /></button>
                            </div>
                            <div className="game-grid">
                                {matchItems.map((item, idx) => (
                                    <button key={idx} disabled={solved.includes(item.id)} onClick={() => handleMatch(item)} className={`game-btn ${selected.includes(item) ? 'selected' : ''} ${solved.includes(item.id) ? 'solved' : ''}`}>
                                        {solved.includes(item.id) ? <Icon name="check" /> : (item.type === 'ru' ? <WordDisplay word={item.ru} root={item.root} stressIdx={item.stressIdx} size="md" /> : <span className="cn-font">{item.cn}</span>)}
                                    </button>
                                ))}
                            </div>
                        </div>
                    )}

                    {mode === 'quiz' && (
                        <div className="game-panel" style={{display:'flex', flexDirection:'column', justifyContent:'center', textAlign:'center', minHeight:'400px'}}>
                            {!quizFinished && quizQuestion ? (
                                <>
                                    <div style={{display:'flex', justifyContent:'space-between', marginBottom:'30px'}}>
                                        <div style={{textAlign:'left'}}><span style={{fontSize:'2rem', fontWeight:'bold'}}>{quizScore}</span><span className="helper-text" style={{display:'block'}}>SCORE</span></div>
                                        <div style={{textAlign:'right', fontSize:'0.8rem', color:'#8A9675', fontWeight:'bold'}}><div>ËøõÂ∫¶: {quizIndex + 1} / {quizQueue.length}</div><div>Ê≠£Á°ÆÁéá: {accuracy}%</div></div>
                                    </div>
                                    <div style={{marginBottom:'30px', minHeight:'80px', display:'flex', alignItems:'center', justifyContent:'center'}}>
                                        {quizQuestion.dir === 'ru-cn' ? <WordDisplay word={quizQuestion.ru} root={quizQuestion.root} stressIdx={quizQuestion.stressIdx} size="lg" /> : <h2 className="cn-font" style={{fontSize:'2rem', fontWeight:'bold'}}>{quizQuestion.cn}</h2>}
                                    </div>
                                    <div style={{display:'grid', gridTemplateColumns:'1fr', gap:'10px'}}>
                                        {quizOptions.map((opt, idx) => {
                                            const isCorrect = opt.ru === quizQuestion.ru;
                                            let statusClass = '';
                                            if (quizAnswered) statusClass = isCorrect ? 'correct' : (opt === quizQuestion ? 'correct' : 'wrong');
                                            return (
                                                <button key={idx} disabled={quizAnswered} onClick={() => handleQuiz(opt)} className={`quiz-option ${statusClass}`}>
                                                    {quizQuestion.dir === 'ru-cn' ? <span className="cn-font">{opt.cn}</span> : <span style={{fontFamily:'"Times New Roman", serif'}}>{opt.ru}</span>}
                                                </button>
                                            )
                                        })}
                                    </div>
                                    <div style={{marginTop:'20px', height:'20px', fontWeight:'bold', color:'#8A9675'}}>
                                        {quizAnswered && (quizCorrect ? "üéâ Ê≠£Á°Æ!" : <button onClick={nextQuiz} style={{background:'none', border:'none', textDecoration:'underline', color:'#BC8A7B', cursor:'pointer'}}>Ë∑≥Ëøá ‚ûî</button>)}
                                    </div>
                                </>
                            ) : (
                                <div>
                                    <Icon name="award" size={60} color="#8A9675" />
                                    <h2 className="cn-font" style={{fontSize:'1.5rem', fontWeight:'bold', margin:'20px 0'}}>ÊµãËØïÂÆåÊàê</h2>
                                    <div style={{display:'flex', justifyContent:'space-around', background:'#F7F5F0', padding:'20px', borderRadius:'15px', marginBottom:'30px'}}>
                                        <div><span className="helper-text">Score</span><div style={{fontSize:'1.8rem', fontWeight:'bold', color:'#8A9675'}}>{quizScore}</div></div>
                                        <div><span className="helper-text">Accuracy</span><div style={{fontSize:'1.8rem', fontWeight:'bold', color:'#8A9675'}}>{accuracy}%</div></div>
                                    </div>
                                    <button onClick={startQuiz} style={{background:'#8A9675', color:'white', border:'none', padding:'12px 30px', borderRadius:'12px', fontSize:'1rem', fontWeight:'bold', cursor:'pointer'}}>ÂÜçÊù•‰∏ÄËΩÆ</button>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
